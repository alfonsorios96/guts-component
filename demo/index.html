<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!-- Load component when polyfills are definitely ready -->
    <script>
        // Take care of cases in which the browser runs this
        // script before it has finished running
        // webcomponents-loader.js (e.g. Firefox script execution order)
        window.WebComponents = window.WebComponents || {
            waitFor(cb) {
                // addEventListener('WebComponentsReady', cb);
                cb();
            }
        };

        WebComponents.waitFor(async () => {
            const url = 'http://localhost:5000/catalog/cdn/guts-component.js';
            const response = await fetch(url, {
                headers: {
                    'x-access-token': 'eyJhbGciOiJIUzI1NiJ9.bWFsZm9yaW1l.5FFciDzsNJ2YIgeji8wW2qkj_cLhd8rFz_1sJ1-qpeo'
                }
            });
            const _element = await response.text();
            document.querySelector('#components').innerHTML = `
                ${_element}
            `;
        });
    </script>
</head>
<body>
<script id="components"></script>
<guts-component></guts-component>
</body>
</html>